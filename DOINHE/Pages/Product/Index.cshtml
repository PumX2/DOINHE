@page
@model DOINHE.Pages.Product.IndexModel

@{
    ViewData["Title"] = "Index";
    Layout = "_Layout";
}
<main class="main">
    <!-- Page Title -->
    <div class="page-title dark-background">
        <div class="container position-relative">
            <h1>Contact</h1>
            <p>Esse dolorum voluptatum ullam est sint nemo et est ipsa porro placeat quibusdam quia assumenda numquam molestias.</p>
            <nav class="breadcrumbs">
                <ol>
                    <li><a href="index">Home</a></li>
                    <li class="current">Contact</li>
                </ol>
            </nav>
        </div>
    </div><!-- End Page Title -->
    <style>
        .scrolled .header {
            --background-color: #ff7469;
        }

        .dark-background {
            --background-color: #ff7469;
            --default-color: #ffffff;
            --heading-color: #ffffff;
            --surface-color: #284e62;
            --contrast-color: #ffffff;
        }
    </style>
    <div class="table-container">
        <table class="styled-table">
            <thead>
                <tr>
                    <th>@Html.DisplayNameFor(model => model.Product[0].ProductName)</th>
                    <th>@Html.DisplayNameFor(model => model.Product[0].DateTimeStart)</th>
                    <th>@Html.DisplayNameFor(model => model.Product[0].CreateDate)</th>
                    <th>@Html.DisplayNameFor(model => model.Product[0].Price)</th>
                    <th>@Html.DisplayNameFor(model => model.Product[0].Address)</th>
                    <th>@Html.DisplayNameFor(model => model.Product[0].StatusIsApprove)</th>
                    <th>@Html.DisplayNameFor(model => model.Product[0].ImgDescription)</th>
                    <th>@Html.DisplayNameFor(model => model.Product[0].quantityInStock)</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.Product)
                {
                    <tr>
                        <td>@Html.DisplayFor(modelItem => item.ProductName)</td>
                        <td>@Html.DisplayFor(modelItem => item.DateTimeStart)</td>
                        <td>@Html.DisplayFor(modelItem => item.CreateDate)</td>
                        <td>@Html.DisplayFor(modelItem => item.Price)</td>
                        <td>@Html.DisplayFor(modelItem => item.Address)</td>
                        <td>@Html.DisplayFor(modelItem => item.StatusIsApprove)</td>
                        <td>
                            @if (item.ImgDescription != null)
                            {
                                var base64Image = Convert.ToBase64String(item.ImgDescription!);
                                var imageSrc = $"data:image/png;base64,{base64Image}";

                                <img src="@imageSrc" alt="Image" class="table-image" />
                            }
                        </td>
                        <td>@Html.DisplayFor(modelItem => item.quantityInStock)</td>

                        <td>
                            <a class="table-action" asp-page="./Edit" asp-route-id="@item.Id">Edit</a>
                            <a class="table-action" href="portfolio-details?id=@item.Id">Details</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</main>

<!-- Style -->
<style>
    .table-container {
        display: flex;
        justify-content: center; /* Căn giữa theo chiều ngang */
        margin-top: 20px; /* Khoảng cách phía trên */
    }

    .styled-table {
        width: 100%;
        max-width: 1200px; /* Giới hạn chiều rộng tối đa của bảng */
        border-collapse: collapse;
        margin: 25px 0;
        font-size: 0.9em;
        font-family: 'Arial', sans-serif;
        text-align: left;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);
    }

        .styled-table thead tr {
            background-color: #1e4356;
            color: #ffffff;
            text-align: left;
            font-weight: bold;
        }

        .styled-table th,
        .styled-table td {
            padding: 12px 15px;
        }

        .styled-table tbody tr {
            border-bottom: 1px solid #dddddd;
        }

            .styled-table tbody tr:nth-of-type(even) {
                background-color: #f3f3f3;
            }

            .styled-table tbody tr:last-of-type {
                border-bottom: 2px solid #1e4356;
            }

    .table-image {
        max-width: 80px;
        max-height: 80px;
        border-radius: 5px;
        object-fit: cover;
    }

    .table-action {
        color: #1e4356;
        text-decoration: none;
        font-weight: bold;
    }

        .table-action:hover {
            text-decoration: underline;
        }
</style>
